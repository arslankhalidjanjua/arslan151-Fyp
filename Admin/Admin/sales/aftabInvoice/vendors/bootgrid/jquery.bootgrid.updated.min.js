!function(t,e){"use strict";function i(t){function e(e){return i.identifier&&e[i.identifier]===t[i.identifier]}var i=this;return this.rows.contains(e)?!1:(this.rows.push(t),!0)}function s(e){var i=this.footer?this.footer.find(e):t(),s=this.header?this.header.find(e):t();return t.merge(i,s)}function o(e){return e?t.extend({},this.cachedParams,{ctx:e}):this.cachedParams}function n(){var e={current:this.current,rowCount:this.rowCount,sort:this.sortDictionary,searchPhrase:this.searchPhrase},i=this.options.post;return i=t.isFunction(i)?i():i,this.options.requestHandler(t.extend(!0,e,i))}function r(e){return"."+t.trim(e).replace(/\s+/gm,".")}function l(){var e=this.options.url;return t.isFunction(e)?e():e}function a(){this.element.trigger("initialize"+j),d.call(this),this.selection=this.options.selection&&null!=this.identifier,p.call(this),g.call(this),R.call(this),k.call(this),v.call(this),u.call(this),this.element.trigger("initialized"+j)}function c(){this.options.highlightRows}function h(t){return t.visible}function d(){var e=this,i=this.element.find("thead > tr").first(),s=!1;i.children().each(function(){var i=t(this),o=i.data(),n={id:o.columnId,identifier:null==e.identifier&&o.identifier||!1,converter:e.options.converters[o.converter||o.type]||e.options.converters.string,text:i.text(),align:o.align||"left",headerAlign:o.headerAlign||"left",cssClass:o.cssClass||"",headerCssClass:o.headerCssClass||"",formatter:e.options.formatters[o.formatter]||null,order:s||"asc"!==o.order&&"desc"!==o.order?null:o.order,searchable:!(o.searchable===!1),sortable:!(o.sortable===!1),visible:!(o.visible===!1),visibleInSelection:!(o.visibleInSelection===!1),width:t.isNumeric(o.width)?o.width+"px":"string"==typeof o.width?o.width:null};e.columns.push(n),null!=n.order&&(e.sortDictionary[n.id]=n.order),n.identifier&&(e.identifier=n.id,e.converter=n.converter),e.options.multiSort||null===n.order||(s=!0)})}function u(){function i(t){for(var e,i=new RegExp(o.searchPhrase,o.options.caseSensitive?"g":"gi"),s=0;s<o.columns.length;s++)if(e=o.columns[s],e.searchable&&e.visible&&e.converter.to(t[e.id]).search(i)>-1)return!0;return!1}function s(t,e){o.currentRows=t,f.call(o,e),o.options.keepSelection||(o.selectedRows=[]),D.call(o,t),b.call(o),y.call(o),o.element._bgBusyAria(!1).trigger("loaded"+j)}var o=this;if(this.element._bgBusyAria(!0).trigger("load"+j),P.call(this),this.options.ajax){var r=n.call(this),a=l.call(this);if(null==a||"string"!=typeof a||0===a.length)throw new Error("Url setting must be a none empty string or a function that returns one.");this.xqr&&this.xqr.abort();var c={url:a,data:r,success:function(e){o.xqr=null,"string"==typeof e&&(e=t.parseJSON(e)),e=o.options.responseHandler(e),o.current=e.current,s(e.rows,e.total)},error:function(t,e){o.xqr=null,"abort"!==e&&(w.call(o),o.element._bgBusyAria(!1).trigger("loaded"+j))}};c=t.extend(this.options.ajaxSettings,c),this.xqr=t.ajax(c)}else{var h=this.searchPhrase.length>0?this.rows.where(i):this.rows,d=h.length;-1!==this.rowCount&&(h=h.page(this.current,this.rowCount)),e.setTimeout(function(){s(h,d)},10)}}function p(){if(!this.options.ajax){var e=this,s=this.element.find("tbody > tr");s.each(function(){var s=t(this),o=s.children("td"),n={};t.each(e.columns,function(t,e){n[e.id]=e.converter.from(o.eq(t).text())}),i.call(e,n)}),f.call(this,this.rows.length),B.call(this)}}function f(t){this.total=t,this.totalPages=-1===this.rowCount?1:Math.ceil(this.total/this.rowCount)}function g(){var e=this.options.templates,i=this.element.parent().hasClass(this.options.css.responsiveTable)?this.element.parent():this.element;this.element.addClass(this.options.css.table),0===this.element.children("tbody").length&&this.element.append(e.body),1&this.options.navigation&&(this.header=t(e.header.resolve(o.call(this,{id:this.element._bgId()+"-header"}))),i.before(this.header)),2&this.options.navigation&&(this.footer=t(e.footer.resolve(o.call(this,{id:this.element._bgId()+"-footer"}))),i.after(this.footer))}function v(){if(0!==this.options.navigation){var e=this.options.css,i=r(e.actions),n=s.call(this,i);if(n.length>0){var l=this,a=this.options.templates,c=t(a.actions.resolve(o.call(this)));if(this.options.ajax){var h=a.icon.resolve(o.call(this,{iconCss:e.iconRefresh})),d=t(a.actionButton.resolve(o.call(this,{content:h,text:this.options.labels.refresh}))).on("click"+j,function(t){t.stopPropagation(),l.current=1,u.call(l)});c.append(d)}C.call(this,c),m.call(this,c),I.call(this,n,c)}}}function m(e){if(this.options.columnSelection&&this.columns.length>1){var i=this,s=this.options.css,n=this.options.templates,l=n.icon.resolve(o.call(this,{iconCss:s.iconColumns})),a=t(n.actionDropDown.resolve(o.call(this,{content:l}))),c=r(s.dropDownItem),d=r(s.dropDownItemCheckbox),p=r(s.dropDownMenuItems);t.each(this.columns,function(e,l){if(l.visibleInSelection){var f=t(n.actionDropDownCheckboxItem.resolve(o.call(i,{name:l.id,label:l.text,checked:l.visible}))).on("click"+j,c,function(e){e.stopPropagation();var s=t(this),o=s.find(d);if(!o.prop("disabled")){l.visible=o.prop("checked");var n=i.columns.where(h).length>1;s.parents(p).find(c+":has("+d+":checked)")._bgEnableAria(n).find(d)._bgEnableField(n),i.element.find("tbody").empty(),R.call(i),u.call(i)}});a.find(r(s.dropDownMenuItems)).append(f)}}),e.append(a)}}function b(){if(0!==this.options.navigation){var e=r(this.options.css.infos),i=s.call(this,e);if(i.length>0){var n=this.current*this.rowCount,l=t(this.options.templates.infos.resolve(o.call(this,{end:0===this.total||-1===n||n>this.total?this.total:n,start:0===this.total?0:n-this.rowCount+1,total:this.total})));I.call(this,i,l)}}}function w(){var t=this.element.children("tbody").first(),e=this.options.templates,i=this.columns.where(h).length;this.selection&&(i+=1),t.html(e.noResults.resolve(o.call(this,{columns:i})))}function y(){if(0!==this.options.navigation){var e=r(this.options.css.pagination),i=s.call(this,e)._bgShowAria(-1!==this.rowCount);if(-1!==this.rowCount&&i.length>0){var n=this.options.templates,l=this.current,a=this.totalPages,c=t(n.pagination.resolve(o.call(this))),h=a-l,d=-1*(this.options.padding-l),u=h>=this.options.padding?Math.max(d,1):Math.max(d-this.options.padding+h,1),p=2*this.options.padding+1,f=a>=p?p:a;x.call(this,c,"first","<i class='zmdi zmdi-more-horiz'></i>","first")._bgEnableAria(l>1),x.call(this,c,"prev","<i class='zmdi zmdi-chevron-left'></i>","prev")._bgEnableAria(l>1);for(var g=0;f>g;g++){var v=g+u;x.call(this,c,v,v,"page-"+v)._bgEnableAria()._bgSelectAria(v===l)}0===f&&x.call(this,c,1,1,"page-1")._bgEnableAria(!1)._bgSelectAria(),x.call(this,c,"next","<i class='zmdi zmdi-chevron-right'></i>","next")._bgEnableAria(a>l),x.call(this,c,"last","<i class='zmdi zmdi-more-horiz'></i>","last")._bgEnableAria(a>l),I.call(this,i,c)}}}function x(e,i,s,n){var l=this,a=this.options.templates,c=this.options.css,h=o.call(this,{css:n,text:s,page:i}),d=t(a.paginationItem.resolve(h)).on("click"+j,r(c.paginationButton),function(e){e.stopPropagation(),e.preventDefault();var i=t(this),s=i.parent();if(!s.hasClass("active")&&!s.hasClass("disabled")){var o={first:1,prev:l.current-1,next:l.current+1,last:l.totalPages},n=i.data("page");l.current=o[n]||n,u.call(l)}i.trigger("blur")});return e.append(d),d}function C(e){function i(t){return-1===t?s.options.labels.all:t}var s=this,n=this.options.rowCount;if(t.isArray(n)){var l=this.options.css,a=this.options.templates,c=t(a.actionDropDown.resolve(o.call(this,{content:i(this.rowCount)}))),h=r(l.dropDownMenu),d=r(l.dropDownMenuText),p=r(l.dropDownMenuItems),f=r(l.dropDownItemButton);t.each(n,function(e,n){var r=t(a.actionDropDownItem.resolve(o.call(s,{text:i(n),action:n})))._bgSelectAria(n===s.rowCount).on("click"+j,f,function(e){e.preventDefault();var o=t(this),n=o.data("action");n!==s.rowCount&&(s.current=1,s.rowCount=n,o.parents(p).children().each(function(){var e=t(this),i=e.find(f).data("action");e._bgSelectAria(i===n)}),o.parents(h).find(d).text(i(n)),u.call(s))});c.find(p).append(r)}),e.append(c)}}function D(e){if(e.length>0){var i=this,s=this.options.css,n=this.options.templates,l=this.element.children("tbody").first(),a=!0,c="";t.each(e,function(e,r){var l="",h=' data-row-id="'+(null==i